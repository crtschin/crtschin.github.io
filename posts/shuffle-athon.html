<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Examine the problem of shuffling a one-dimensional array in a single pass, employing a linked list structure along with reservoir sampling for random selection."><title>(Non-)Functional Ramblings - Shuffle-athon</title><style>@font-face{font-family:fira code;font-style:normal;font-weight:300 700;font-display:swap;src:local("Fira Code"),local("FiraCode"),url(/css/fonts/FiraCode-ddcba61.woff2)format('woff2-variations')}@font-face{font-family:montserrat;font-style:normal;font-weight:100 900;font-display:swap;src:local("Montserrat"),url(/css/fonts/Montserrat-ddcba61.woff2)format('woff2-variations')}@font-face{font-family:montserrat;font-style:italic;font-weight:100 900;font-display:swap;src:local("Montserrat Italic"),local("Montserrat-Italic"),url(/css/fonts/Montserrat-Italic-ddcba61.woff2)format('woff2-variations')}html{font-size:80%;font-weight:400;font-family:montserrat,arial,sans-serif;scroll-behavior:smooth;scrollbar-gutter:stable}html{text-size-adjust:none}*,*::before,*::after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}body{line-height:1.5;-webkit-font-smoothing:antialiased}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}#root,#__next{isolation:isolate}body{font-size:1.6rem;background-color:#282828;color:#fbf1c7}code,pre{background-color:#1d2021}header{border-bottom:.2rem solid #98971a}nav a{font-weight:700;text-decoration:none}body img{max-width:100%;max-height:100%;display:block;margin:auto;height:auto;width:auto}body figcaption{text-align:center}footer{margin-top:3rem;padding:1.2rem 0;border-top:.2rem solid #98971a;font-size:1.2rem;color:#fbf1c7}h1{font-size:2.4rem}h2{font-size:2rem}h3{font-size:1.8rem}h4{font-size:1.6rem}.title{margin-bottom:0}article .publish-date{margin:0 0 2rem 1rem;font-size:1.4rem;color:#fbf1c7}article .last-modified-date{font-size:1rem}.logo a{font-weight:700;color:#fbf1c7;text-decoration:none}html{scrollbar-width:thick;scrollbar-color:#928374 #282828}pre{scrollbar-width:thin;scrollbar-color:#928374 #282828}nav.toc{float:left;clear:left;font-size:2rem;margin-left:-28%;width:20rem;word-wrap:break-word;padding:1rem;vertical-align:baseline;position:-webkit-sticky;position:sticky;top:5vh}nav.toc a{font-size:1.4rem}nav.toc ::marker{margin:0 -1rem 0 0}nav.toc li{margin:0;padding:0;line-height:1.2}nav.toc .toc-header{font-weight:700}nav.toc ul li{list-style-position:outside}nav.toc ul{margin-top:0;margin-bottom:0}pre,code{width:100%;font-family:fira code,consolas,monospace}div.highlight.inline{display:inline}pre{white-space:pre;overflow:auto;margin:1rem 0;background-color:#1d2021;padding:1rem;border-radius:.5rem .5rem .5rem .5rem}code{word-break:break-word;padding:0 .4rem;border-radius:.3rem .3rem .3rem .3rem}html a:link{color:#689d6a;background-color:initial;text-decoration:underline}html a:visited{color:#689d6a;background-color:initial;text-decoration:underline}html a:hover{color:#8ec07c;background-color:initial;text-decoration:underline}html a:active{color:#8ec07c;background-color:initial;text-decoration:none}nav.header a:link{color:#689d6a;background-color:initial;text-decoration:none}nav.header a:visited{color:#689d6a;background-color:initial;text-decoration:none}nav.header a:hover{color:#8ec07c;background-color:initial;text-decoration:none}nav.header a:active{color:#8ec07c;background-color:initial;text-decoration:underline}nav.toc a:link{color:#689d6a;background-color:initial;text-decoration:none}nav.toc a:visited{color:#689d6a;background-color:initial;text-decoration:none}nav.toc a:hover{color:#8ec07c;background-color:initial;text-decoration:none}nav.toc a:active{color:#8ec07c;background-color:initial;text-decoration:underline}.sidenote,marginnote{width:20rem;clear:right;font-size:1.1rem;line-height:1.3;vertical-align:baseline}body{counter-set:sidenote-counter}.sidenote-number{counter-increment:sidenote-counter}.sidenote:before{content:counter(sidenote-counter)" ";position:relative;vertical-align:baseline;font-weight:700;font-size:1rem;top:-.5rem;font-size:.9em}.sidenote-number:after{content:counter(sidenote-counter);position:relative;vertical-align:baseline;font-weight:700;font-size:1rem;top:-.5rem;left:.1rem}blockquote .sidenote,blockquote .marginnote{margin-right:82%;min-width:59%;text-align:left}.sidenote>code{font-size:1rem}label.sidenote-number{display:inline-block;max-height:2rem}label.margin-toggle:not(.sidenote-number){display:none}input.margin-toggle{display:none}.post-list{margin-top:1rem}.post-list-item{margin-bottom:2rem}.post-list-item p{width:100%;margin:0}.post-description{padding-top:.5rem}.post-header-title{text-align:left}.post-header-date{text-align:right}@media all and (max-width:1439px){nav.toc{display:none}}@media all and (max-width:1439px){.sidenote,.marginnote{float:right;text-align:left;margin:1rem 0;padding-left:5%}}@media all and (min-width:1440px){.sidenote,.marginnote{float:right;margin-right:-30%;margin-top:.3rem;margin-bottom:0;position:relative}}@media all and (max-width:639px){body{width:100%;margin:0;padding:0 5%}header{margin:1rem 0}nav.header{margin:.5rem auto;text-align:center}footer{text-align:center}nav.header a{font-size:1.4rem;line-height:1.6}.logo{font-size:1.8rem}nav.header a{margin:0 .6rem}}@media all and (min-width:640px){body{width:70rem;margin:0 auto;padding:0}header{margin:0 0 3rem;padding:.6rem 0 .2rem}nav.header{display:flex;align-items:flex-end;justify-content:space-between;margin:0;text-align:right}nav.header a{font-size:1.8rem;margin:0 0 0 .6rem;display:inline}.navigation{justify-content:flex-end}footer{text-align:right}.logo{margin:0;text-align:left;font-size:2.4rem}}@media all and (max-width:1439px){.post-header{display:block}}@media all and (min-width:1440px){.post-header{display:flex}.post-header-title{padding-left:1rem}.post-description{padding-left:3rem;padding-top:.5rem}}pre{line-height:125%}td.linenos .normal{color:#3c4354;background-color:initial;padding-left:5px;padding-right:5px}span.linenos{color:#3c4354;background-color:initial;padding-left:5px;padding-right:5px}td.linenos .special{color:#3c4354;background-color:#ffffc0;padding-left:5px;padding-right:5px}span.linenos.special{color:#3c4354;background-color:#ffffc0;padding-left:5px;padding-right:5px}.hll{background-color:#6e7681}.c{color:#7e8aa1}.err{color:#f88f7f}.esc{color:#d4d2c8}.g{color:#d4d2c8}.k{color:#ffad66}.l{color:#d5ff80}.n{color:#d4d2c8}.o{color:#ffad66}.x{color:#d4d2c8}.p{color:#d4d2c8}.ch{color:#f88f7f;font-style:italic}.cm{color:#7e8aa1}.cp{color:#ffad66;font-weight:700}.cpf{color:#7e8aa1}.c1{color:#7e8aa1}.cs{color:#7e8aa1;font-style:italic}.gd{color:#f88f7f;background-color:#3d1e20}.ge{color:#d4d2c8;font-style:italic}.ges{color:#d4d2c8}.gr{color:#f88f7f}.gh{color:#d4d2c8}.gi{color:#6ad4af;background-color:#19362c}.go{color:#7e8aa1}.gp{color:#d4d2c8}.gs{color:#d4d2c8;font-weight:700}.gu{color:#d4d2c8}.gt{color:#f88f7f}.kc{color:#ffad66}.kd{color:#ffad66}.kn{color:#ffad66}.kp{color:#ffad66}.kr{color:#ffad66}.kt{color:#73d0ff}.ld{color:#d5ff80}.m{color:#dfbfff}.s{color:#d5ff80}.na{color:#ffd173}.nb{color:#ffd173}.nc{color:#73d0ff}.no{color:#ffd173}.nd{color:#7e8aa1;font-weight:700;font-style:italic}.ni{color:#95e6cb}.ne{color:#73d0ff}.nf{color:#ffd173}.nl{color:#d4d2c8}.nn{color:#d4d2c8}.nx{color:#d4d2c8}.py{color:#ffd173}.nt{color:#5ccfe6}.nv{color:#d4d2c8}.ow{color:#ffad66}.pm{color:#d4d2c8}.w{color:#d4d2c8}.mb{color:#dfbfff}.mf{color:#dfbfff}.mh{color:#dfbfff}.mi{color:#dfbfff}.mo{color:#dfbfff}.sa{color:#f29e74}.sb{color:#d5ff80}.sc{color:#d5ff80}.dl{color:#d5ff80}.sd{color:#7e8aa1}.s2{color:#d5ff80}.se{color:#95e6cb}.sh{color:#d5ff80}.si{color:#95e6cb}.sx{color:#95e6cb}.sr{color:#95e6cb}.s1{color:#d5ff80}.ss{color:#dfbfff}.bp{color:#5ccfe6}.fm{color:#ffd173}.vc{color:#d4d2c8}.vg{color:#d4d2c8}.vi{color:#d4d2c8}.vm{color:#d4d2c8}.il{color:#dfbfff}</style><link rel=preload href=../css/fonts/Montserrat-ddcba61.woff2 crossorigin=anonymous as=font type=font/woff2><link rel=stylesheet href=../css/katex.css media=print onload='this.media="all"'><noscript><link rel=stylesheet href=../css/katex.css></noscript><link rel="shortcut icon" href=favicon.ico type=image/x-icon><link rel="shortcut icon" href=../images/favicons/favicon32.png><link rel=apple-touch-icon-precomposed sizes=144x144 href=../images/favicons/favicon144.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=../images/favicons/favicon114.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=../images/favicons/favicon72.png><link rel=apple-touch-icon-precomposed sizes=57x57 href=../images/favicons/favicon57.png><header><nav class=header><a class=logo href=../>(Non-)Functional Ramblings</a><div class=navigation><a href=../about.html>About</a>
<a href=../static/resume.pdf>Resume</a>
<a href=../archive.html>Archive</a>
<a href=../atom.xml>Feed</a></div></nav></header><main role=main><h1 class=title>Shuffle-athon</h1><article><section class=publish-date><em>Posted on November 10, 2017</em></section><section><p></p>A modest problem was posed the other day.<p></p>A pair of my fellow undergrads were presenting their paper on estimating disease survivability in moving populations using Monte Carlo. It was a short course, so the research and presentations were kept relatively simple. They setup their populations as a one-dimensional arrays and simulated people moving around by iterating through the array and based on a probability, removed people and inserted them in different positions. The order of the people who didn’t move didn’t change, so they had to shift every person after the insertion spot one index over.<p></p>This is reminiscent of the insertion step in <a href=https://en.wikipedia.org/wiki/Insertion_sort>insertion sort</a> with the elements being incomparable, which has a time complexity of <span class=katex><span class=katex-mathml><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal" style=margin-right:.028em>O</span><span class=mopen>(</span><span class="mord mathnormal">n</span><span class=mclose>)</span></span></span></span>. The lecturer tasked with grading our presentations quickly saw that their shuffling method would be a bottleneck when doing simulations and questioned the efficiency of their approach.<figure><img src=../images/examplesoep.gif alt="Illustration of their shuffling strategy"><figcaption aria-hidden=true>Illustration of their shuffling strategy</figcaption></figure><p></p>This situation requires fast insertions and deletions, where the relative order of elements not involved with the insertion or deletion don’t change. This is exactly what a <a href=https://en.wikipedia.org/wiki/Linked_list>linked list</a> can give us. A linked list’s drawback, the inefficient indexing, matters little here. The only time indexing would be useful is when picking the people who should move and where they should move to, but this can be done in a constant number of passes. A possibly useful algorithm which we can use is <a href=https://en.wikipedia.org/wiki/Reservoir_sampling>reservoir sampling</a>. Reservoir sampling allows you to pick random elements from an array in a single pass where each element has an equal chance of being picked.<p></p>I’ve posted a code snippet below implementing a minimal doubly linked list using reservoir sampling for population movement in <span class=katex><span class=katex-mathml><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal" style=margin-right:.028em>O</span><span class=mopen>(</span><span class="mord mathnormal">n</span><span class=mclose>)</span></span></span></span> time complexity.<div class=highlight><pre tabindex=0><span></span><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Any</span>
<span class=kn>import</span><span class=w> </span><span class=nn>random</span>
<span class=kn>import</span><span class=w> </span><span class=nn>math</span>


<span class=k>class</span><span class=w> </span><span class=nc>LLNode</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>next_node</span><span class=p>:</span> <span class=s2>&quot;LLNode&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
        <span class=n>prev_node</span><span class=p>:</span> <span class=s2>&quot;LLNode&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>next_node</span> <span class=o>=</span> <span class=n>next_node</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>prev_node</span> <span class=o>=</span> <span class=n>prev_node</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>


<span class=k>class</span><span class=w> </span><span class=nc>LinkedList</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=n>LLNode</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>tail</span> <span class=o>=</span> <span class=n>LLNode</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>prev_node</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=o>.</span><span class=n>next_node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>tail</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span><span class=w> </span><span class=nf>shuffle</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>number_of_elements</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>math</span><span class=o>.</span><span class=n>floor</span><span class=p>(</span>
                <span class=n>random</span><span class=o>.</span><span class=n>normalvariate</span><span class=p>(</span><span class=mf>0.35</span><span class=p>,</span> <span class=mf>0.1705</span><span class=p>)</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>count</span><span class=p>)))</span>
        <span class=n>temp_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>reservoir_sample</span><span class=p>(</span><span class=n>number_of_elements</span><span class=p>)</span>

        <span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>temp_list</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>__delete</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>

        <span class=n>random</span><span class=o>.</span><span class=n>shuffle</span><span class=p>(</span><span class=n>temp_list</span><span class=p>)</span>
        <span class=n>new_locations</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>reservoir_sample</span><span class=p>(</span><span class=n>number_of_elements</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>location</span> <span class=ow>in</span> <span class=n>new_locations</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>__insert</span><span class=p>(</span><span class=n>temp_list</span><span class=o>.</span><span class=n>pop</span><span class=p>(),</span> <span class=n>location</span><span class=o>.</span><span class=n>prev_node</span><span class=p>,</span> <span class=n>location</span><span class=p>)</span>

    <span class=c1># Reservoir sampling with the possibility of the</span>
    <span class=c1># same element being chosen multiple times.</span>
    <span class=c1># This is done by iterating over the same element</span>
    <span class=c1># multiple times while still increasing the index</span>
    <span class=k>def</span><span class=w> </span><span class=nf>reservoir_sample</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sample_size</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
        <span class=n>allow_same_location</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=p>[</span><span class=n>LLNode</span><span class=p>]:</span>
        <span class=n>new_array</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>current_node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
        <span class=n>number_of_iterations</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>if</span> <span class=n>allow_same_location</span><span class=p>:</span>
            <span class=n>number_of_iterations</span> <span class=o>=</span> <span class=n>sample_size</span>
        <span class=k>while</span> <span class=n>current_node</span><span class=o>.</span><span class=n>next_node</span><span class=o>.</span><span class=n>value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>new_array</span><span class=p>)</span> <span class=o>&lt;</span> <span class=n>sample_size</span><span class=p>:</span>
                <span class=n>new_array</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span><span class=n>current_node</span><span class=o>.</span><span class=n>next_node</span><span class=p>]</span> <span class=o>*</span> <span class=n>number_of_iterations</span><span class=p>)</span>
                <span class=n>i</span> <span class=o>+=</span> <span class=n>number_of_iterations</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>number_of_iterations</span><span class=p>):</span>
                    <span class=k>if</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>min</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>i</span><span class=p>))</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
                        <span class=n>new_array</span><span class=p>[</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>new_array</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)]</span> <span class=o>=</span> <span class=n>current_node</span><span class=o>.</span><span class=n>next_node</span>
                        <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=n>current_node</span> <span class=o>=</span> <span class=n>current_node</span><span class=o>.</span><span class=n>next_node</span>
        <span class=k>return</span> <span class=n>new_array</span>

    <span class=k>def</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>new_val</span><span class=p>:</span> <span class=n>Any</span><span class=p>):</span>
        <span class=n>new_node</span> <span class=o>=</span> <span class=n>LLNode</span><span class=p>(</span><span class=n>new_val</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>__insert</span><span class=p>(</span><span class=n>new_node</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>tail</span><span class=o>.</span><span class=n>prev_node</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>tail</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=k>def</span><span class=w> </span><span class=nf>traverse</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=p>[</span><span class=n>LLNode</span><span class=p>]:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=o>.</span><span class=n>next_node</span>
        <span class=k>while</span> <span class=n>current</span><span class=o>.</span><span class=n>value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>current</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next_node</span>
        <span class=k>return</span> <span class=n>result</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>__insert</span><span class=p>(</span><span class=n>new_node</span><span class=p>,</span> <span class=n>prev_node</span><span class=p>:</span> <span class=n>LLNode</span><span class=p>,</span> <span class=n>next_node</span><span class=p>:</span> <span class=n>LLNode</span><span class=p>):</span>
        <span class=n>new_node</span><span class=o>.</span><span class=n>next_node</span><span class=p>,</span> <span class=n>next_node</span><span class=o>.</span><span class=n>prev_node</span> <span class=o>=</span> <span class=n>next_node</span><span class=p>,</span> <span class=n>new_node</span>
        <span class=n>new_node</span><span class=o>.</span><span class=n>prev_node</span><span class=p>,</span> <span class=n>prev_node</span><span class=o>.</span><span class=n>next_node</span> <span class=o>=</span> <span class=n>prev_node</span><span class=p>,</span> <span class=n>new_node</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>__delete</span><span class=p>(</span><span class=n>node</span><span class=p>:</span> <span class=n>LLNode</span><span class=p>):</span>
        <span class=n>prev_node</span><span class=p>,</span> <span class=n>next_node</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>prev_node</span><span class=p>,</span> <span class=n>node</span><span class=o>.</span><span class=n>next_node</span>
        <span class=n>prev_node</span><span class=o>.</span><span class=n>next_node</span><span class=p>,</span> <span class=n>next_node</span><span class=o>.</span><span class=n>prev_node</span> <span class=o>=</span> <span class=n>next_node</span><span class=p>,</span> <span class=n>prev_node</span>
</pre></div></section></article></main><footer>Site proudly generated by <a href=http://jaspervdj.be/hakyll>Hakyll</a>.
All content is licensed under <a href=../LICENSE.txt>3-clause BSD license</a>.</footer>